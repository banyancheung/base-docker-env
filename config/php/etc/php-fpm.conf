[global]
pid = /home/worker/data/php/run/php-fpm.pid
error_log = /home/worker/data/php/logs/php-fpm.log
syslog.facility = daemon
syslog.ident = php-fpm
log_level = notice
emergency_restart_threshold = 1
emergency_restart_interval = 1s
process_control_timeout = 0
process.max = 128
;process.priority = -19
daemonize = yes
rlimit_files = 16384
rlimit_core = 0
events.mechanism = epoll

[www]
user = worker
group = worker
clear_env = no
catch_workers_output = yes
listen = /dev/shm/php-fpm.sock
listen.backlog = 512
pm = static
pm.max_children = 64
pm.start_servers = 16
pm.min_spare_servers = 8
pm.max_spare_servers = 32
pm.process_idle_timeout = 10s
pm.max_requests = 81920
ping.path = /ping_phpfpm
ping.response = pong
access.log = /home/worker/data/php/logs/$pool.access.log
access.format = "%{REMOTE_ADDR}e %{LOG_ID}e %t \"%m %{PATH_INFO}e\" %s %{mili}d %{mega}MM %p %C%%"
slowlog = /home/worker/data/php/logs/$pool.log.slow
request_slowlog_timeout = 5s
request_terminate_timeout=10s
rlimit_files = 16384
rlimit_core = 0
security.limit_extensions = .php
env[environ] = docker
